#!/usr/bin/env bash
# HyprVibe Development Environment
# This file configures direnv to automatically load the Nix development shell

# Use the flake development shell
use flake

# Set up development environment variables
export NIXOS_CONFIG_DIR="$PWD"
export FLAKE_DIR="$PWD"

# Enable Nix experimental features for this session
export NIX_CONFIG="experimental-features = nix-command flakes"

# Improve Nix performance
export NIX_SSHOPTS="-o StrictHostKeyChecking=no"

# Development tooling paths
export PATH="$PWD/scripts:$PATH"

# Git configuration for this repository
export GIT_EDITOR="${EDITOR:-nano}"

# Help message
if [[ "${BASH_SOURCE[0]}" == "${0}" ]]; then
  echo "This .envrc file is meant to be used with direnv."
  echo "Install direnv and run 'direnv allow' to enable automatic environment loading."
fi

# Inform user about the environment
echo "ðŸ”§ HyprVibe development environment loaded"
echo "   â€¢ Nix flakes enabled"
echo "   â€¢ Development tools available"
echo "   â€¢ Type 'nix develop' if direnv is not working"