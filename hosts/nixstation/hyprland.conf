# Hyprland Configuration for Nixstation
# See https://wiki.hyprland.org/Configuring/Configuring-Hyprland/

# Source shared base configuration (Hyprland doesn't expand ~)
source = /home/chrisf/.config/hypr/hyprland-base.conf

# Source host-specific monitor configuration
source = /home/chrisf/.config/hypr/hyprland-monitors-nixstation.conf

# Nixstation-specific overrides and additions can go here
# For example:
# - Machine-specific keybindings
# - Hardware-specific settings
# - Performance tweaks for 4-monitor setup

# Reaper window rules - Fix X11/XWayland window management issues
# Main Reaper window: keep tiled (not floating) so it works with other windows
# This ensures Reaper integrates properly with tiling and doesn't stay on top
windowrulev2 = tile, class:^(reaper)$
windowrulev2 = windowdance, class:^(reaper)$

# Reaper dialogs and popups: float and center them
# Match common Reaper dialog titles
windowrulev2 = float, class:^(reaper)$, title:.*(Render|Export|Preferences|Settings|About|Dialog|Popup|Message|Warning|Error|Save|Open|Browse).*
windowrulev2 = center, class:^(reaper)$, title:.*(Render|Export|Preferences|Settings|About|Dialog|Popup|Message|Warning|Error|Save|Open|Browse).*
windowrulev2 = size 800 600, class:^(reaper)$, title:.*(Render|Export|Preferences|Settings|About|Dialog|Popup|Message|Warning|Error|Save|Open|Browse).*

# Handle XWayland transient windows (dialogs) - these are typically child windows
# This catches dialogs that might not have specific titles
windowrulev2 = float, class:^(reaper)$, windowtype:^(dialog|popup_menu|utility)$

# Prevent Reaper from creating windows that stay on top unnecessarily
windowrulev2 = noinitialfocus, class:^(reaper)$, title:.*(Render|Export|Preferences|Settings|About|Dialog|Popup|Message|Warning|Error|Save|Open|Browse).*

# XWayland-specific: improve focus and window behavior for Reaper
windowrulev2 = focusonopen, class:^(reaper)$
windowrulev2 = suppressevent fullscreen, class:^(reaper)$